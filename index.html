<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stamps Search Validation</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="api.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<div class="container">
    <div class="jumbotron">
<h1>Address Validator</h1>
<h3>Validate a US-based address below!</h3>
    </div>
    </div>
<body>
    <div class="container">
    <form>
        <label for="address-line1">Street Address:</label>
        <input type="text" id="address-line1" name="address-line1"><br><br>
        <label for="city_locality">City:</label>
        <input type="text" id="city_locality" name="city_locality"><br><br>
        <label for="state_province">State (two letters):</label>
        <input type="text" id="state_province" name="state_province"><br><br>
        <label for="postal_code">Zipcode:</label>
        <input type="text" id="postal_code" name="postal_code"><br><br>
        <button type="button" class="btn btn-danger" onclick="myFunction()">Submit</button>
        </form>
        </div>
  <script>
$( document ).ready(function(){
function myFunction(){
var address = document.getElementById("address_line1").value();
var city = document.getElementById("city_locality").value();
var state= document.getElementById("state_province").value();
var zip = document.getElementById("postal_code").value();
console.log(state, address, city, zip, state);
};  
var myHeaders = new Headers();
myHeaders.append("Host", "api.shipengine.com");
myHeaders.append("API-Key", "TEST_J6h+wzVuOOQlnxi4H6VwhZoBWolFjnM61n6J3K1bTcY");
myHeaders.append("Content-Type", "application/json");
myHeaders.append("Access-Control-Allow-Origin", "*");

console.log(state, address, city, zip, state);
var raw = JSON.stringify([{
    "address_line1": address,
    "city_locality": city,
    "state_province": state,
    "postal_code": zip,
    "country_code":"US"}]);

var requestOptions = {
  method: 'POST',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch("https://api.shipengine.com/v1/addresses/validate", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));
$("#validationButton").on("click", function(event){
    event.preventDefault();
    
    
})
})
  </script>
</body>

</html>